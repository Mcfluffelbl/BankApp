@page "/"
@layout MainLayout

<PageTitle>Welcome to Voltra Bank</PageTitle>

@if (!isLoggedIn)
{
    @* Login popup displayed when user is not authenticated *@
    <div class="popup-backdrop">
        <div class="popup">
            <h2>Login Required</h2>
            <p>Input your code to continue:</p>
            <input type="password" @bind="userCode" placeholder="Password here..." />
            <button class="my-custom-btn3" @onclick="CheckLogin">Login</button>
            @if (showError)
            {
                <p style="color:red;">Login Error, try again.</p>
            }
        </div>
    </div>
}
else
{
    @* Main page content displayed after successful login *@
    <div class="hero">
        <h1>Voltra Bank</h1>
        <h4>Empowering your financial future — manage your economy with confidence.</h4>

        <svg xmlns="http://www.w3.org/2000/svg" width="120" height="120" fill="currentColor" class="bi bi-currency-exchange" viewBox="0 0 16 16">
            <path d="..." />
        </svg>
    </div>

    <div class="content">

        @* Investment information section *@
        <div class="card">
            <img src="images/aktiefonder-768x434.jpg" alt="Voltra Bank Logo" />
            <h2>Invest Smart</h2>
            <h4>Discover our beginner-friendly stock guide and grow your wealth today.</h4>
        </div>

        @* Market update section *@
        <div class="card">
            <img src="images/iStock-501199714.jpg" alt="Voltra Bank Logo" />
            <h2>Market News</h2>
            <h4>Stay updated — Pineapple Pizza stocks are on the rise! 🍍📈</h4>
        </div>

        @* Security awareness section with external link *@
        <div class="card">
            <img src="https://media.giphy.com/media/3o6Zt481isNVuQI1l6/giphy.gif" alt="Dancing Money" />
            <h2>Security Alert</h2>
            <h4>Beware of suspicious links and fake offers. Stay protected online.</h4>
            <button type="button" class="my-custom-btn3"
                    onclick="window.location.href='https://www.youtube.com/shorts/Ay8lynMZ4mE?feature=share'">
                Learn More
            </button>
        </div>

    </div>
}
@code {
    // Fields
    private bool isLoggedIn = false;
    private string userCode = "";
    private bool showError = false;

    /// <summary>
	/// Handles login validation.
    /// Verifies whether the entered user code matches the correct access code.
    /// </summary>
    private void CheckLogin()
    {
        // Check if the entered user code is correct
		if (userCode == "1234") // Switch to your desired code
        {
            isLoggedIn = true;
            showError = false;
        }
        else
        {
            showError = true;
        }
	}
}